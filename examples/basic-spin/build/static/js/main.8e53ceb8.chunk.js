(this["webpackJsonpjavascript-winwheel-react"]=this["webpackJsonpjavascript-winwheel-react"]||[]).push([[0],{14:function(t,e,i){},15:function(t,e,i){},17:function(t,e,i){"use strict";i.r(e);var n=i(0),s=i.n(n),a=i(3),o=i.n(a),r=(i(14),i(6)),h=(i(15),i(4)),l=i(5),c=i(9),g=i(7),d=i(8);function u(t,e){this.setOptions(t)}function m(t){var e={visible:!0,number:36,outerRadius:3,fillStyle:"grey",strokeStyle:"black",lineWidth:1,margin:3,responsive:!1};for(var i in e)void 0!==t&&"undefined"!==typeof t[i]?this[i]=t[i]:this[i]=e[i];if(void 0!==t)for(var n in t)"undefined"===typeof this[n]&&(this[n]=t[n])}function p(t){var e={type:"spinOngoing",direction:"clockwise",propertyName:null,propertyValue:null,duration:10,yoyo:!1,repeat:null,easing:null,stopAngle:null,spins:null,clearTheCanvas:null,callbackFinished:null,callbackBefore:null,callbackAfter:null,callbackSound:null,soundTrigger:"segment"};for(var i in e)void 0!==t&&"undefined"!==typeof t[i]?this[i]=t[i]:this[i]=e[i];if(void 0!==t)for(var n in t)"undefined"===typeof this[n]&&(this[n]=t[n])}function x(t){var e={size:null,text:"",fillStyle:null,strokeStyle:null,lineWidth:null,textFontFamily:null,textFontSize:null,textFontWeight:null,textOrientation:null,textAlignment:null,textDirection:null,textMargin:null,textFillStyle:null,textStrokeStyle:null,textLineWidth:null,image:null,imageDirection:null,imgData:null};for(var i in e)void 0!==t&&"undefined"!==typeof t[i]?this[i]=t[i]:this[i]=e[i];if(void 0!==t)for(var n in t)"undefined"===typeof this[n]&&(this[n]=t[n]);this.startAngle=0,this.endAngle=0}function f(t){var e={display:!1,strokeStyle:"red",lineWidth:3};for(var i in e)void 0!==t&&"undefined"!==typeof t[i]?this[i]=t[i]:this[i]=e[i]}function v(){if(y){!1!==y.animation.clearTheCanvas&&y.ctx.clearRect(0,0,y.canvas.width,y.canvas.height);var t=y.animation.callbackBefore,e=y.animation.callbackAfter;void 0!==t&&"function"===typeof t&&t(),y.draw(!1),void 0!==e&&"function"===typeof e&&e(),y.animation.callbackSound&&function(){!1===y.hasOwnProperty("_lastSoundTriggerNumber")&&(y._lastSoundTriggerNumber=0);var t=y.animation.callbackSound,e=0;e="pin"===y.animation.soundTrigger?y.getCurrentPinNumber():y.getIndicatedSegmentNumber();e!==y._lastSoundTriggerNumber&&("function"===typeof t&&t(),y._lastSoundTriggerNumber=e)}()}}u.prototype.setOptions=function(t,e){var i={canvas:null,canvasId:null,centerX:null,centerY:null,outerRadius:null,innerRadius:0,segments:{},numSegments:0,drawMode:"code",rotationAngle:0,textFontFamily:"Arial",textFontSize:20,textFontWeight:"bold",textOrientation:"horizontal",textAlignment:"center",textDirection:"normal",textMargin:null,textFillStyle:"black",textStrokeStyle:null,textLineWidth:1,fillStyle:"silver",strokeStyle:"black",lineWidth:1,clearTheCanvas:!0,imageOverlay:!1,drawText:!0,pointerAngle:0,wheelImage:null,imageDirection:"N",responsive:!1,scaleFactor:1};for(var n in i.numSegments=void 0!==t.segments?Object.keys(t.segments).length:Object.keys(i.segments).length,i)void 0!==t&&"undefined"!==typeof t[n]?this[n]=t[n]:this[n]=i[n];if(void 0!==t)for(var s in t)"undefined"===typeof this[s]&&(this[s]=t[s]);if(this.canvasId&&(console.log(this.canvasId),this.canvas=document.getElementById(this.canvasId)),this.updateCenter(),this.canvas?this.ctx=this.canvas.getContext("2d"):(this.canvas=null,this.ctx=null),this.setSegments(t.segments),null===this.textMargin&&(this.textMargin=this.textFontSize/1.7),void 0!==t&&t.animation&&"undefined"!==typeof t.animation?this.animation=new p(t.animation):this.animation=new p,void 0!==t&&t.pins&&"undefined"!==typeof t.pins&&(this.pins=new m(t.pins)),"image"===this.drawMode||"segmentImage"===this.drawMode?("undefined"===typeof t.fillStyle&&(this.fillStyle=null),"undefined"===typeof t.strokeStyle&&(this.strokeStyle="red"),"undefined"===typeof t.drawText&&(this.drawText=!1),"undefined"===typeof t.lineWidth&&(this.lineWidth=1),"undefined"===typeof e&&(e=!1)):"undefined"===typeof e&&(e=!0),void 0!==t&&t.pointerGuide&&"undefined"!==typeof t.pointerGuide?this.pointerGuide=new f(t.pointerGuide):this.pointerGuide=new f,this.responsive&&(y=this,this._originalCanvasWidth=this.canvas.width,this._originalCanvasHeight=this.canvas.height,this._responsiveScaleHeight=this.canvas.dataset.responsivescaleheight,this._responsiveMinWidth=this.canvas.dataset.responsiveminwidth,this._responsiveMinHeight=this.canvas.dataset.responsiveminheight,this._responsiveMargin=this.canvas.dataset.responsivemargin,window.addEventListener("load",T),window.addEventListener("resize",T)),!0===e)this.draw(this.clearTheCanvas);else if("segmentImage"===this.drawMode){y=this,S=!1;for(var a=1;a<=this.numSegments;a++)null!==this.segments[a].image&&(this.segments[a].imgData=new Image,this.segments[a].imgData.onload=w,this.segments[a].imgData.src=this.segments[a].image)}},u.prototype.setSegments=function(t){this.segments=new Array(null);for(var e=1;e<=this.numSegments;e++)t&&"undefined"!==typeof t[e-1]?this.segments[e]=new x(t[e-1]):this.segments[e]=new x;this.updateSegmentSizes()},u.prototype.updateCenter=function(){this.canvas&&(null===this.centerX&&(this.centerX=this.canvas.width/2),null===this.centerY&&(this.centerY=this.canvas.height/2),null===this.outerRadius&&(this.canvas.width<this.canvas.height?this.outerRadius=this.canvas.width/2-this.lineWidth:this.outerRadius=this.canvas.height/2-this.lineWidth))},u.prototype.updateSegmentSizes=function(){if(this.segments){for(var t=0,e=0,i=1;i<=this.numSegments;i++)null!==this.segments[i].size&&(t+=this.segments[i].size,e++);var n=360-t,s=0;n>0&&(s=n/(this.numSegments-e));for(var a=0,o=1;o<=this.numSegments;o++)this.segments[o].startAngle=a,this.segments[o].size?a+=this.segments[o].size:a+=s,this.segments[o].endAngle=a}},u.prototype.clearCanvas=function(){this.ctx&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},u.prototype.draw=function(t){this.ctx&&("undefined"!==typeof t?!0===t&&this.clearCanvas():this.clearCanvas(),"image"===this.drawMode?(this.drawWheelImage(),!0===this.drawText&&this.drawSegmentText(),!0===this.imageOverlay&&this.drawSegments()):"segmentImage"===this.drawMode?(this.drawSegmentImages(),!0===this.drawText&&this.drawSegmentText(),!0===this.imageOverlay&&this.drawSegments()):(this.drawSegments(),!0===this.drawText&&this.drawSegmentText()),"undefined"!==typeof this.pins&&!0===this.pins.visible&&this.drawPins(),!0===this.pointerGuide.display&&this.drawPointerGuide())},u.prototype.drawPins=function(){if(this.pins&&this.pins.number){var t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,i=this.outerRadius*this.scaleFactor,n=this.pins.outerRadius,s=this.pins.margin;this.pins.responsive&&(n=this.pins.outerRadius*this.scaleFactor,s=this.pins.margin*this.scaleFactor);for(var a=360/this.pins.number,o=1;o<=this.pins.number;o++)this.ctx.save(),this.ctx.strokeStyle=this.pins.strokeStyle,this.ctx.lineWidth=this.pins.lineWidth,this.ctx.fillStyle=this.pins.fillStyle,this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(o*a+this.rotationAngle)),this.ctx.translate(-t,-e),this.ctx.beginPath(),this.ctx.arc(t,e-i+n+s,n,0,2*Math.PI),this.pins.fillStyle&&this.ctx.fill(),this.pins.strokeStyle&&this.ctx.stroke(),this.ctx.restore()}},u.prototype.drawPointerGuide=function(){if(this.ctx){var t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,i=this.outerRadius*this.scaleFactor;this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(this.pointerAngle)),this.ctx.translate(-t,-e),this.ctx.strokeStyle=this.pointerGuide.strokeStyle,this.ctx.lineWidth=this.pointerGuide.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(t,-i/4),this.ctx.stroke(),this.ctx.restore()}},u.prototype.drawWheelImage=function(){if(void 0!==this.wheelImage){var t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,i=this.wheelImage.width*this.scaleFactor,n=this.wheelImage.height*this.scaleFactor,s=t-i/2,a=e-n/2;this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(this.rotationAngle)),this.ctx.translate(-t,-e),this.ctx.drawImage(this.wheelImage,s,a,i,n),this.ctx.restore()}},u.prototype.drawSegmentImages=function(){if(this.ctx){var t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor;if(this.segments)for(var i=1;i<=this.numSegments;i++){var n=this.segments[i];if(n.imgData.height){var s=0,a=0,o=0,r="",h=n.imgData.width*this.scaleFactor,l=n.imgData.height*this.scaleFactor;"S"===(r=null!==n.imageDirection?n.imageDirection:this.imageDirection)?(s=t-h/2,a=e,o=n.startAngle+180+(n.endAngle-n.startAngle)/2):"E"===r?(s=t,a=e-l/2,o=n.startAngle+270+(n.endAngle-n.startAngle)/2):"W"===r?(s=t-h,a=e-l/2,o=n.startAngle+90+(n.endAngle-n.startAngle)/2):(s=t-h/2,a=e-l,o=n.startAngle+(n.endAngle-n.startAngle)/2),this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(this.rotationAngle+o)),this.ctx.translate(-t,-e),this.ctx.drawImage(n.imgData,s,a,h,l),this.ctx.restore()}else console.log("Segment "+i+" imgData is not loaded")}}},u.prototype.drawSegments=function(){if(this.ctx&&this.segments)for(var t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,i=this.innerRadius*this.scaleFactor,n=this.outerRadius*this.scaleFactor,s=1;s<=this.numSegments;s++){var a=this.segments[s],o=void 0,r=void 0,h=void 0;if(o=null!==a.fillStyle?a.fillStyle:this.fillStyle,this.ctx.fillStyle=o,r=null!==a.lineWidth?a.lineWidth:this.lineWidth,this.ctx.lineWidth=r,h=null!==a.strokeStyle?a.strokeStyle:this.strokeStyle,this.ctx.strokeStyle=h,h||o){if(this.ctx.beginPath(),this.innerRadius){var l=Math.cos(this.degToRad(a.startAngle+this.rotationAngle-90))*(i-r/2),c=Math.sin(this.degToRad(a.startAngle+this.rotationAngle-90))*(i-r/2);this.ctx.moveTo(t+l,e+c)}else this.ctx.moveTo(t,e);this.ctx.arc(t,e,n,this.degToRad(a.startAngle+this.rotationAngle-90),this.degToRad(a.endAngle+this.rotationAngle-90),!1),this.innerRadius?this.ctx.arc(t,e,i,this.degToRad(a.endAngle+this.rotationAngle-90),this.degToRad(a.startAngle+this.rotationAngle-90),!0):this.ctx.lineTo(t,e),o&&this.ctx.fill(),h&&this.ctx.stroke()}}},u.prototype.drawSegmentText=function(){if(this.ctx)for(var t,e,i,n,s,a,o,r,h,l,c,g=this.centerX*this.scaleFactor,d=this.centerY*this.scaleFactor,u=this.outerRadius*this.scaleFactor,m=this.innerRadius*this.scaleFactor,p=1;p<=this.numSegments;p++){this.ctx.save();var x=this.segments[p];if(x.text){t=null!==x.textFontFamily?x.textFontFamily:this.textFontFamily,e=null!==x.textFontSize?x.textFontSize:this.textFontSize,i=null!==x.textFontWeight?x.textFontWeight:this.textFontWeight,n=null!==x.textOrientation?x.textOrientation:this.textOrientation,s=null!==x.textAlignment?x.textAlignment:this.textAlignment,a=null!==x.textDirection?x.textDirection:this.textDirection,o=null!==x.textMargin?x.textMargin:this.textMargin,r=null!==x.textFillStyle?x.textFillStyle:this.textFillStyle,h=null!==x.textStrokeStyle?x.textStrokeStyle:this.textStrokeStyle,l=null!==x.textLineWidth?x.textLineWidth:this.textLineWidth,e*=this.scaleFactor,o*=this.scaleFactor,c="",void 0!==i&&(c+=i+" "),void 0!==e&&(c+=e+"px "),void 0!==t&&(c+=t),this.ctx.font=c,this.ctx.fillStyle=r,this.ctx.strokeStyle=h,this.ctx.lineWidth=l;var f=x.text.split("\n"),v=0-e*(f.length/2)+e/2;"curved"!==n||"inner"!==s&&"outer"!==s||(v=0);for(var y=0;y<f.length;y++){if("reversed"===a){if("horizontal"===n){this.ctx.textAlign="inner"===s?"right":"outer"===s?"left":"center",this.ctx.textBaseline="middle";var A=this.degToRad(x.endAngle-(x.endAngle-x.startAngle)/2+this.rotationAngle-90-180);this.ctx.save(),this.ctx.translate(g,d),this.ctx.rotate(A),this.ctx.translate(-g,-d),"inner"===s?(r&&this.ctx.fillText(f[y],g-m-o,d+v),h&&this.ctx.strokeText(f[y],g-m-o,d+v)):"outer"===s?(r&&this.ctx.fillText(f[y],g-u+o,d+v),h&&this.ctx.strokeText(f[y],g-u+o,d+v)):(r&&this.ctx.fillText(f[y],g-m-(u-m)/2-o,d+v),h&&this.ctx.strokeText(f[y],g-m-(u-m)/2-o,d+v)),this.ctx.restore()}else if("vertical"===n){this.ctx.textAlign="center",this.ctx.textBaseline="inner"===s?"top":"outer"===s?"bottom":"middle";var S=x.endAngle-(x.endAngle-x.startAngle)/2-180;S+=this.rotationAngle,this.ctx.save(),this.ctx.translate(g,d),this.ctx.rotate(this.degToRad(S)),this.ctx.translate(-g,-d);var w=0;"outer"===s?w=d+u-o:"inner"===s&&(w=d+m+o);var T=e-e/9;if("outer"===s)for(var k=f[y].length-1;k>=0;k--){var b=f[y].charAt(k);r&&this.ctx.fillText(b,g+v,w),h&&this.ctx.strokeText(b,g+v,w),w-=T}else if("inner"===s)for(var F=0;F<f[y].length;F++){var R=f[y].charAt(F);r&&this.ctx.fillText(R,g+v,w),h&&this.ctx.strokeText(R,g+v,w),w+=T}else if("center"===s){var M=0;f[y].length>1&&(M=T*(f[y].length-1)/2);for(var W=d+m+(u-m)/2+M+o,I=f[y].length-1;I>=0;I--){var C=f[y].charAt(I);r&&this.ctx.fillText(C,g+v,W),h&&this.ctx.strokeText(C,g+v,W),W-=T}}this.ctx.restore()}else if("curved"===n){var O=0;"inner"===s?(O=m+o,this.ctx.textBaseline="top"):"outer"===s?(O=u-o,this.ctx.textBaseline="bottom",O-=e*(f.length-1)):"center"===s&&(O=m+o+(u-m)/2,this.ctx.textBaseline="middle");var j=0,D=0;if(f[y].length>1){this.ctx.textAlign="left",j=e/10*4;var _=(j*=100/O)*f[y].length;D=x.startAngle+((x.endAngle-x.startAngle)/2-_/2)}else D=x.startAngle+(x.endAngle-x.startAngle)/2,this.ctx.textAlign="center";D+=this.rotationAngle,D-=180;for(var P=f[y].length;P>=0;P--){this.ctx.save();var z=f[y].charAt(P);this.ctx.translate(g,d),this.ctx.rotate(this.degToRad(D)),this.ctx.translate(-g,-d),h&&this.ctx.strokeText(z,g,d+O+v),r&&this.ctx.fillText(z,g,d+O+v),D+=j,this.ctx.restore()}}}else if("horizontal"===n){this.ctx.textAlign="inner"===s?"left":"outer"===s?"right":"center",this.ctx.textBaseline="middle";var B=this.degToRad(x.endAngle-(x.endAngle-x.startAngle)/2+this.rotationAngle-90);this.ctx.save(),this.ctx.translate(g,d),this.ctx.rotate(B),this.ctx.translate(-g,-d),"inner"===s?(r&&this.ctx.fillText(f[y],g+m+o,d+v),h&&this.ctx.strokeText(f[y],g+m+o,d+v)):"outer"===s?(r&&this.ctx.fillText(f[y],g+u-o,d+v),h&&this.ctx.strokeText(f[y],g+u-o,d+v)):(r&&this.ctx.fillText(f[y],g+m+(u-m)/2+o,d+v),h&&this.ctx.strokeText(f[y],g+m+(u-m)/2+o,d+v)),this.ctx.restore()}else if("vertical"===n){this.ctx.textAlign="center",this.ctx.textBaseline="inner"===s?"bottom":"outer"===s?"top":"middle";var N=x.endAngle-(x.endAngle-x.startAngle)/2;N+=this.rotationAngle,this.ctx.save(),this.ctx.translate(g,d),this.ctx.rotate(this.degToRad(N)),this.ctx.translate(-g,-d);var V=0;"outer"===s?V=d-u+o:"inner"===s&&(V=d-m-o);var L=e-e/9;if("outer"===s)for(var X=0;X<f[y].length;X++){var Y=f[y].charAt(X);r&&this.ctx.fillText(Y,g+v,V),h&&this.ctx.strokeText(Y,g+v,V),V+=L}else if("inner"===s)for(var G=f[y].length-1;G>=0;G--){var H=f[y].charAt(G);r&&this.ctx.fillText(H,g+v,V),h&&this.ctx.strokeText(H,g+v,V),V-=L}else if("center"===s){var E=0;f[y].length>1&&(E=L*(f[y].length-1)/2);for(var U=d-m-(u-m)/2-E-o,J=0;J<f[y].length;J++){var q=f[y].charAt(J);r&&this.ctx.fillText(q,g+v,U),h&&this.ctx.strokeText(q,g+v,U),U+=L}}this.ctx.restore()}else if("curved"===n){var K=0;"inner"===s?(K=m+o,this.ctx.textBaseline="bottom",K+=e*(f.length-1)):"outer"===s?(K=u-o,this.ctx.textBaseline="top"):"center"===s&&(K=m+o+(u-m)/2,this.ctx.textBaseline="middle");var Q=0,Z=0;if(f[y].length>1){this.ctx.textAlign="left",Q=e/10*4;var $=(Q*=100/K)*f[y].length;Z=x.startAngle+((x.endAngle-x.startAngle)/2-$/2)}else Z=x.startAngle+(x.endAngle-x.startAngle)/2,this.ctx.textAlign="center";Z+=this.rotationAngle;for(var tt=0;tt<f[y].length;tt++){this.ctx.save();var et=f[y].charAt(tt);this.ctx.translate(g,d),this.ctx.rotate(this.degToRad(Z)),this.ctx.translate(-g,-d),h&&this.ctx.strokeText(et,g,d-K+v),r&&this.ctx.fillText(et,g,d-K+v),Z+=Q,this.ctx.restore()}}v+=e}}this.ctx.restore()}},u.prototype.degToRad=function(t){return.017453292519943295*t},u.prototype.setCenter=function(t,e){this.centerX=t,this.centerY=e},u.prototype.setOuterRadius=function(t){this.outerRadius=t},u.prototype.addSegment=function(t,e){var i,n=new x(t);if(this.numSegments++,"undefined"!==typeof e){for(var s=this.numSegments;s>e;s--)this.segments[s]=this.segments[s-1];this.segments[e]=n,i=e}else this.segments[this.numSegments]=n,i=this.numSegments;return this.updateSegmentSizes(),this.segments[i]},u.prototype.setCanvasId=function(t){t?(this.canvasId=t,this.canvas=document.getElementById(this.canvasId),this.canvas&&(this.ctx=this.canvas.getContext("2d"))):(this.canvasId=null,this.ctx=null,this.canvas=null)},u.prototype.setCanvas=function(t){t?(this.canvas=t,this.canvas&&(this.ctx=this.canvas.getContext("2d"))):(this.canvasId=null,this.ctx=null,this.canvas=null)},u.prototype.deleteSegment=function(t){if(this.numSegments>1){if("undefined"!==typeof t)for(var e=t;e<this.numSegments;e++)this.segments[e]=this.segments[e+1];this.segments[this.numSegments]=void 0,this.numSegments--,this.updateSegmentSizes()}},u.prototype.windowToCanvas=function(t,e){var i=this.canvas.getBoundingClientRect();return{x:Math.floor(t-i.left*(this.canvas.width/i.width)),y:Math.floor(e-i.top*(this.canvas.height/i.height))}},u.prototype.getSegmentAt=function(t,e){var i=null,n=this.getSegmentNumberAt(t,e);return null!==n&&(i=this.segments[n]),i},u.prototype.getSegmentNumberAt=function(t,e){var i,n,s,a,o,r=this.windowToCanvas(t,e),h=this.centerX*this.scaleFactor,l=this.centerY*this.scaleFactor,c=this.outerRadius*this.scaleFactor,g=this.innerRadius*this.scaleFactor;r.x>h?(s=r.x-h,n="R"):(s=h-r.x,n="L"),r.y>l?(a=r.y-l,i="B"):(a=l-r.y,i="T");var d=a/s,u=180*Math.atan(d)/Math.PI,m=0;(o=Math.sqrt(a*a+s*s),"T"===i&&"R"===n?m=Math.round(90-u):"B"===i&&"R"===n?m=Math.round(u+90):"B"===i&&"L"===n?m=Math.round(90-u+180):"T"===i&&"L"===n&&(m=Math.round(u+270)),0!==this.rotationAngle)&&((m-=this.getRotationPosition())<0&&(m=360-Math.abs(m)));for(var p=null,x=1;x<=this.numSegments;x++)if(m>=this.segments[x].startAngle&&m<=this.segments[x].endAngle&&o>=g&&o<=c){p=x;break}return p},u.prototype.getIndicatedSegment=function(){var t=this.getIndicatedSegmentNumber();return this.segments[t]},u.prototype.getIndicatedSegmentNumber=function(){var t=0,e=this.getRotationPosition(),i=Math.floor(this.pointerAngle-e);i<0&&(i=360-Math.abs(i));for(var n=1;n<this.segments.length;n++)if(i>=this.segments[n].startAngle&&i<=this.segments[n].endAngle){t=n;break}return t},u.prototype.getCurrentPinNumber=function(){var t=0;if(this.pins){var e=this.getRotationPosition(),i=Math.floor(this.pointerAngle-e);i<0&&(i=360-Math.abs(i));for(var n=360/this.pins.number,s=0,a=0;a<this.pins.number;a++){if(i>=s&&i<=s+n){t=a;break}s+=n}"clockwise"===this.animation.direction&&++t>this.pins.number&&(t=0)}return t},u.prototype.getRotationPosition=function(){var t=this.rotationAngle;if(t>=0){if(t>360)t-=360*Math.floor(t/360)}else{if(t<-360)t-=360*Math.ceil(t/360);t=360+t}return t},u.prototype.startAnimation=function(){if(this.animation){this.computeAnimation(),y=this;var t=new Array(null);t[this.animation.propertyName]=this.animation.propertyValue,t.yoyo=this.animation.yoyo,t.repeat=this.animation.repeat,t.ease=this.animation.easing,t.onUpdate=v,t.onComplete=A,this.tween=d.a.to(this,this.animation.duration,t)}},u.prototype.stopAnimation=function(t){y&&(y.tween&&y.tween.kill(),A(t)),y=this},u.prototype.pauseAnimation=function(){this.tween&&this.tween.pause()},u.prototype.resumeAnimation=function(){this.tween&&this.tween.play()},u.prototype.computeAnimation=function(){this.animation&&("spinOngoing"===this.animation.type?(this.animation.propertyName="rotationAngle",null===this.animation.spins&&(this.animation.spins=5),null===this.animation.repeat&&(this.animation.repeat=-1),null===this.animation.easing&&(this.animation.easing="Linear.easeNone"),null===this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"===this.animation.direction&&(this.animation.propertyValue=0-this.animation.propertyValue)):"spinToStop"===this.animation.type?(this.animation.propertyName="rotationAngle",null===this.animation.spins&&(this.animation.spins=5),null===this.animation.repeat&&(this.animation.repeat=0),null===this.animation.easing&&(this.animation.easing="Power3.easeOut"),null===this.animation.stopAngle?this.animation._stopAngle=Math.floor(359*Math.random()):this.animation._stopAngle=360-this.animation.stopAngle+this.pointerAngle,null===this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"===this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):"spinAndBack"===this.animation.type?(this.animation.propertyName="rotationAngle",null===this.animation.spins&&(this.animation.spins=5),null===this.animation.repeat&&(this.animation.repeat=1),null===this.animation.easing&&(this.animation.easing="Power2.easeInOut"),null===this.animation.yoyo&&(this.animation.yoyo=!0),null===this.animation.stopAngle?this.animation._stopAngle=0:this.animation._stopAngle=360-this.animation.stopAngle,this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"===this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):this.animation.type)},u.prototype.getRandomForSegment=function(t){var e=0;if(t)if("undefined"!==typeof this.segments[t]){var i=this.segments[t].startAngle,n=this.segments[t].endAngle-i-2;n>0?e=i+1+Math.floor(Math.random()*n):console.log("Segment size is too small to safely get random angle inside it")}else console.log("Segment "+t+" undefined");else console.log("Segment number not specified");return e},x.prototype.changeImage=function(t,e){this.image=t,this.imgData=null,e&&(this.imageDirection=e),S=!1,this.imgData=new Image,this.imgData.onload=w,this.imgData.src=this.image},x.prototype.winwheelPercentToDegrees=function(t){var e=0;t>0&&t<=100&&(e=360*(t/100));return e};var y=null;function A(t){if(!1!==t){var e=y.animation.callbackFinished;void 0!==e&&"function"===typeof e&&e(y.getIndicatedSegment())}}var S=!1;function w(){if(!1===S){for(var t=0,e=1;e<=y.numSegments;e++)void 0!==y.segments[e].imgData&&y.segments[e].imgData.height&&t++;t===y.numSegments&&(S=!0,y.draw())}}function T(){var t=40;"undefined"!==typeof y._responsiveMargin&&(t=y._responsiveMargin);var e=window.innerWidth-t,i=y._responsiveMinWidth,n=y._responsiveMinHeight;e<i?e=i:e>y._originalCanvasWidth&&(e=y._originalCanvasWidth);var s=e/y._originalCanvasWidth;if(y.canvas.width=y._originalCanvasWidth*s,y._responsiveScaleHeight){var a=y._originalCanvasHeight*s;a<n?a=n:a>y._originalCanvasHeight&&(a=y._originalCanvasHeight),y.canvas.height=a}y.scaleFactor=s,y.draw()}var k=function(t){Object(c.a)(i,t);var e=Object(g.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).canvasRef=s.a.createRef(),n}return Object(l.a)(i,[{key:"spin",value:function(){this.wjs.stopAnimation(),this.wjs.rotationAngle=this.wjs.rotationAngle%360,this.wjs.draw(),this.wjs.startAnimation()}},{key:"componentDidUpdate",value:function(){var t=this.canvasRef.current;this.wjs.setOptions(Object.assign({canvas:t,rotationAngle:this.wjs.rotationAngle},this.props),!0)}},{key:"componentDidMount",value:function(){var t=this.canvasRef.current;this.wjs=new u(Object.assign({canvas:t},this.props))}},{key:"updateAnimationState",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return s.a.createElement("canvas",{className:this.props.className,width:this.props.width,height:this.props.height,ref:this.canvasRef},"Canvas not supported, use another browser.")}}]),i}(s.a.Component),b=i(1);var F=function(){var t=Object(n.useState)(),e=Object(r.a)(t,2),i=e[0],s=e[1];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(k,{width:"300",height:"300",segments:[{fillStyle:"#eae56f",text:"Prize 1"},{fillStyle:"#89f26e",text:"Prize 2"},{fillStyle:"#7de6ef",text:"Prize 3"},{fillStyle:"#e7706f",text:"Prize 4"},{fillStyle:"#eae56f",text:"Prize 5"},{fillStyle:"#89f26e",text:"Prize 6"},{fillStyle:"#7de6ef",text:"Prize 7"},{fillStyle:"#e7706f",text:"Prize 8"}],animation:{type:"spinToStop",duration:5,spins:8},ref:s}),Object(b.jsx)("button",{onClick:function(){return i.spin()},children:"spin"})]})},R=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,18)).then((function(e){var i=e.getCLS,n=e.getFID,s=e.getFCP,a=e.getLCP,o=e.getTTFB;i(t),n(t),s(t),a(t),o(t)}))};o.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(F,{})}),document.getElementById("root")),R()}},[[17,1,2]]]);
//# sourceMappingURL=main.8e53ceb8.chunk.js.map